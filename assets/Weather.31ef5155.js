import{_ as h,r as p,o as r,c,a as _,F as w,b,t as l,d as g,e as f,f as u}from"./index.7bb3c2f2.js";const k={name:"Card",props:{info:{type:Object}},methods:{isAnObject(e){return typeof e=="object"},capitalizeFirstLetter(e){return e[0].toUpperCase()+this.replaceUnderscore(e).substring(1)},replaceUnderscore(e){return e.includes("_")?e.replaceAll("_"," "):e}}},v={class:"card"},j={key:0},F={key:0,class:"card_value"};function $(e,d,t,m,n,o){const s=p("card",!0);return r(),c("div",null,[_("ul",v,[(r(!0),c(w,null,b(t.info,(a,i,y)=>(r(),c("li",{key:y+"-infoObject-"+i},[i!=="icon"?(r(),c("div",j,[_("span",null,l(o.capitalizeFirstLetter(i))+": ",1),o.isAnObject(a)?(r(),g(s,{key:1,info:a},null,8,["info"])):(r(),c("span",F,l(a),1))])):f("",!0)]))),128))])])}const C=h(k,[["render",$],["__scopeId","data-v-abbc7302"]]);const x={name:"Weather",components:{Card:C},data(){return{weather:{},city:"Lille"}},methods:{async fetchData(){try{const e=`https://api.weatherapi.com/v1/current.json?key=9090010261984f75bd8163005222011&q=${this.city}&aqi=no`,d=await fetch(e).then(t=>t.ok?t.json():t.status===400?(this.redirectToNotFound(),Promise.reject("Selected city is incorrect")):(this.redirectToNotFound(),Promise.reject("Something went wrong: "+t.status))).then(t=>this.weather=t)}catch(e){console.log("Can't get data from API: "+e)}},redirectToNotFound(){this.$router.push("/NotFound")}},mounted(){this.city=this.$route.params.city,this.fetchData()}},A={class:"weather"},B=["src"];function L(e,d,t,m,n,o){const s=p("card");return r(),c("div",A,[u(s,{class:"card-wrapper",info:n.weather.location},null,8,["info"]),n.weather.current?(r(),c("img",{key:0,class:"weather-icon",src:n.weather.current.condition.icon,alt:"weather-icon"},null,8,B)):f("",!0),u(s,{class:"card-wrapper",info:n.weather.current},null,8,["info"])])}const D=h(x,[["render",L],["__scopeId","data-v-858efd4e"]]);export{D as default};
